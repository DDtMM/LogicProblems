<div *ngIf="gridVm" class="grid">
  <ng-container *ngFor="let cat of gridVm!.xCats">
    <div class="cat-label" [style.gridColumn]="getCatLabelGridRange(gridVm!.xCats, cat)" [style.gridRow]="1">
      {{cat.label}}
    </div>
    <div *ngFor="let item of cat.items" class="vert-label item-label"
      [style.gridColumn]="getItemGridIndex(gridVm!.xCats, cat, item)" [style.gridRow]="'2 / span 6'">
      <div>
        {{item.label}}
      </div>
    </div>
  </ng-container>
  <ng-container *ngFor="let cat of gridVm!.yCats">
    <div class="cat-label vert-label" [style.gridRow]="getCatLabelGridRange(gridVm!.yCats, cat)"
      [style.gridColumn]="'1 / span 1'">
      <div>
        {{cat.label}}
      </div>
    </div>
    <div *ngFor="let item of cat.items" class="item-label" [style.textAlign]="'right'"
      [style.gridRow]="getItemGridIndex(gridVm!.yCats, cat, item)" [style.gridColumn]="'2 / span 6'">
      <div>
        {{item.label}}
      </div>
    </div>
  </ng-container>
  <ng-container *ngFor="let catRows of gridVm!.categoryRows">
    <ng-container *ngFor="let catRow of catRows;">
      <ng-container *ngFor="let row of catRow.itemMatrix">
        <div *ngFor="let mItem of row" class="item"
        [ngClass]="mItem.state"
        (click)="toggleState(mItem)"
      [style.gridRow]="getItemGridIndex(gridVm!.yCats, catRow.catY, mItem.itemY)"
      [style.gridColumn]="getItemGridIndex(gridVm!.xCats, catRow.catX, mItem.itemX)">

      </div>
      </ng-container>

    </ng-container>
  </ng-container>
</div>
